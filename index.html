<!DOCTYPE html>
<html lang="ru">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>TABRIZ GROUP | –§–æ—Ä–º–∞ –∑–∞–∫–∞–∑–∞</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0/css/all.min.css" rel="stylesheet">
    <style>
        @import url('https://fonts.googleapis.com/css2?family=Plus+Jakarta+Sans:wght@400;600;700;800&display=swap');
        
        body { 
            font-family: 'Plus Jakarta Sans', sans-serif; 
            margin: 0;
            min-height: 100vh;
            display: flex;
            flex-direction: column;
            /* –§–æ–Ω–æ–≤–æ–µ –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏–µ –ø—Ä–æ–∏–∑–≤–æ–¥—Å—Ç–≤–∞ */
            background: linear-gradient(rgba(0,0,0,0.6), rgba(0,0,0,0.6)), 
                        url('https://images.unsplash.com/photo-1581091226825-a6a2a5aee158?q=80&w=2070&auto=format&fit=crop');
            background-size: cover;
            background-position: center;
            background-attachment: fixed;
        }

        /* –≠—Ñ—Ñ–µ–∫—Ç –º–∞—Ç–æ–≤–æ–≥–æ —Å—Ç–µ–∫–ª–∞ (–ø—Ä–æ–∑—Ä–∞—á–Ω—ã–µ –∫–∞—Ä—Ç–æ—á–∫–∏) */
        .glass-card {
            background: rgba(255, 255, 255, 0.1);
            backdrop-filter: blur(12px);
            -webkit-backdrop-filter: blur(12px);
            border: 1px solid rgba(255, 255, 255, 0.2);
            border-radius: 24px;
            box-shadow: 0 8px 32px 0 rgba(0, 0, 0, 0.37);
        }

        .input-glass {
            background: rgba(255, 255, 255, 0.05);
            border: 1px solid rgba(255, 255, 255, 0.2);
            color: white;
            border-radius: 12px;
            padding: 12px;
            outline: none;
            transition: 0.3s;
        }

        .input-glass:focus {
            background: rgba(255, 255, 255, 0.15);
            border-color: #fbbf24; /* Amber —Ü–≤–µ—Ç */
        }

        .input-glass::placeholder {
            color: rgba(255, 255, 255, 0.4);
        }

        select option {
            background: #1e293b; /* –¶–≤–µ—Ç —Ñ–æ–Ω–∞ –≤—ã–ø–∞–¥–∞—é—â–µ–≥–æ —Å–ø–∏—Å–∫–∞ */
            color: white;
        }

        .footer-brand {
            position: fixed;
            bottom: 20px;
            right: 30px;
            font-weight: 800;
            letter-spacing: 1px;
            color: rgba(255, 255, 255, 0.5);
            text-transform: uppercase;
        }
    </style>
</head>
<body class="p-4 md:p-10">

    <div class="max-w-6xl mx-auto w-full">
        <header class="mb-10 text-center flex flex-col items-center gap-2">
            <h1 class="text-4xl md:text-5xl font-black text-white tracking-tighter">
                TABRIZ <span class="text-amber-400">GROUP</span>
            </h1>
            <div class="h-1 w-20 bg-amber-400 rounded-full"></div>
            <p class="text-slate-300 mt-2 font-medium">–ê–Ω–∫–µ—Ç–∞ –¥–ª—è –æ—Ñ–æ—Ä–º–ª–µ–Ω–∏—è –∑–∞—è–≤–∫–∏ –Ω–∞ —Ä–∞—Å–ø–∏–ª</p>
        </header>

        <div class="grid grid-cols-1 lg:grid-cols-3 gap-8">
            
            <div class="lg:col-span-1 space-y-6">
                <div class="glass-card p-6 text-white">
                    <h2 class="text-lg font-bold mb-5 flex items-center gap-2">
                        <i class="fas fa-id-card text-amber-400"></i> –ö–æ–Ω—Ç–∞–∫—Ç—ã
                    </h2>
                    <div class="space-y-4">
                        <div>
                            <label class="text-[10px] font-bold uppercase text-amber-400/80 tracking-widest">–í–∞—à–µ –ò–º—è –∏ –§–∞–º–∏–ª–∏—è</label>
                            <input type="text" id="fullName" class="input-glass w-full mt-1" placeholder="–ò–≤–∞–Ω –ò–≤–∞–Ω–æ–≤">
                        </div>
                        <div>
                            <label class="text-[10px] font-bold uppercase text-amber-400/80 tracking-widest">–ù–æ–º–µ—Ä —Ç–µ–ª–µ—Ñ–æ–Ω–∞</label>
                            <input type="tel" id="phone" class="input-glass w-full mt-1" placeholder="+998 90 123 45 67">
                        </div>
                    </div>
                </div>

                <div class="glass-card p-6 text-white">
                    <h2 class="text-lg font-bold mb-5 flex items-center gap-2">
                        <i class="fas fa-layer-group text-amber-400"></i> –ú–∞—Ç–µ—Ä–∏–∞–ª
                    </h2>
                    <div class="space-y-4">
                        <input type="text" id="material" class="input-glass w-full" placeholder="–õ–î–°–ü Egger 18–º–º">
                        <input type="text" id="edgeName" class="input-glass w-full" placeholder="–ù–∞–∑–≤–∞–Ω–∏–µ –∫—Ä–æ–º–∫–∏">
                        <select id="edgeThickness" class="input-glass w-full">
                            <option value="0.4–º–º">–¢–æ–ª—â–∏–Ω–∞ 0.4 –º–º</option>
                            <option value="1.0–º–º">–¢–æ–ª—â–∏–Ω–∞ 1.0 –º–º</option>
                            <option value="2.0–º–º">–¢–æ–ª—â–∏–Ω–∞ 2.0 –º–º</option>
                        </select>
                    </div>
                </div>
            </div>

            <div class="lg:col-span-2">
                <div class="glass-card p-6 md:p-8 text-white min-h-full flex flex-col">
                    <div class="flex justify-between items-center mb-6">
                        <h2 class="text-lg font-bold flex items-center gap-2">
                            <i class="fas fa-tools text-amber-400"></i> –°–ø–∏—Å–æ–∫ –¥–µ—Ç–∞–ª–µ–π
                        </h2>
                        <button onclick="addRow()" class="text-xs bg-amber-400 text-black font-bold px-4 py-2 rounded-full hover:bg-amber-300 transition">
                            + –î–æ–±–∞–≤–∏—Ç—å –¥–µ—Ç–∞–ª—å
                        </button>
                    </div>

                    <div class="overflow-x-auto flex-grow">
                        <table class="w-full border-collapse">
                            <thead>
                                <tr class="text-left text-[10px] font-bold text-amber-400/60 uppercase tracking-widest border-b border-white/10">
                                    <th class="p-3">–ù–∞–∑–≤–∞–Ω–∏–µ</th>
                                    <th class="p-3 w-20">–î–ª–∏–Ω–∞</th>
                                    <th class="p-3 w-20">–®–∏—Ä–∏–Ω–∞</th>
                                    <th class="p-3 w-16">–ö–æ–ª-–≤–æ</th>
                                    <th class="p-3 text-center">–ö—Ä–æ–º–∫–∞</th>
                                    <th class="p-3 w-10"></th>
                                </tr>
                            </thead>
                            <tbody id="tableBody"></tbody>
                        </table>
                    </div>

                    <div class="mt-8">
                        <button onclick="sendOrder()" class="w-full bg-amber-400 text-black py-4 rounded-xl font-black text-lg hover:bg-amber-500 transition-all shadow-xl shadow-amber-900/20 flex items-center justify-center gap-3">
                            <span>–û–¢–ü–†–ê–í–ò–¢–¨ –ó–ê–Ø–í–ö–£</span>
                            <i class="fas fa-paper-plane"></i>
                        </button>
                    </div>
                </div>
            </div>
        </div>
    </div>

    <div class="footer-brand">MUSTAFAYEV ACADEMY</div>

    <script>
        const TG_TOKEN = '7927717291:AAG4h_LbZoY-1s2y0_zzNoCFudrU7pPDNas';
        const TG_CHAT_ID = '1015769230';

        // –ó–∞–≥—Ä—É–∂–∞–µ–º —Å–æ—Ö—Ä–∞–Ω–µ–Ω–Ω—ã–µ –∫–æ–Ω—Ç–∞–∫—Ç—ã –∏ –¥–æ–±–∞–≤–ª—è–µ–º –ø–µ—Ä–≤—ã–µ —Å—Ç—Ä–æ–∫–∏
        window.onload = () => {
            document.getElementById('fullName').value = localStorage.getItem('t_name') || '';
            document.getElementById('phone').value = localStorage.getItem('t_phone') || '';
            for(let i=0; i<3; i++) addRow();
        };

        function addRow() {
            const tr = document.createElement('tr');
            tr.className = "border-b border-white/5 hover:bg-white/5 transition";
            tr.innerHTML = `
                <td class="p-2"><input type="text" class="w-full bg-transparent outline-none text-sm val-name" placeholder="..."></td>
                <td class="p-2"><input type="number" class="w-full bg-transparent outline-none text-sm font-bold val-len" placeholder="0"></td>
                <td class="p-2"><input type="number" class="w-full bg-transparent outline-none text-sm font-bold val-width" placeholder="0"></td>
                <td class="p-2"><input type="number" class="w-full bg-transparent outline-none text-sm font-bold text-center val-count" value="1"></td>
                <td class="p-2">
                    <div class="flex gap-1 justify-center">
                        ${['L1', 'L2', 'W1', 'W2'].map(side => `
                            <label class="cursor-pointer">
                                <input type="checkbox" value="${side}" class="hidden peer val-edge">
                                <span class="w-7 h-7 flex items-center justify-center rounded border border-white/20 text-[9px] font-bold peer-checked:bg-amber-400 peer-checked:text-black transition">${side}</span>
                            </label>
                        `).join('')}
                    </div>
                </td>
                <td class="p-2 text-right">
                    <button onclick="this.parentElement.parentElement.remove()" class="text-white/20 hover:text-red-400"><i class="fas fa-times"></i></button>
                </td>
            `;
            document.getElementById('tableBody').appendChild(tr);
        }

        async function sendOrder() {
            const name = document.getElementById('fullName').value.trim();
            const phone = document.getElementById('phone').value.trim();
            const mat = document.getElementById('material').value.trim();
            const edgeName = document.getElementById('edgeName').value.trim();
            const edgeThick = document.getElementById('edgeThickness').value;

            if(!name || !phone || !mat) {
                alert("–ü–æ–∂–∞–ª—É–π—Å—Ç–∞, –∑–∞–ø–æ–ª–Ω–∏—Ç–µ –ò–º—è, –¢–µ–ª–µ—Ñ–æ–Ω –∏ –ú–∞—Ç–µ—Ä–∏–∞–ª!");
                return;
            }

            // –°–æ—Ö—Ä–∞–Ω—è–µ–º –∫–æ–Ω—Ç–∞–∫—Ç—ã –¥–ª—è —É–¥–æ–±—Å—Ç–≤–∞
            localStorage.setItem('t_name', name);
            localStorage.setItem('t_phone', phone);

            const details = Array.from(document.querySelectorAll('#tableBody tr')).map(row => ({
                n: row.querySelector('.val-name').value,
                l: row.querySelector('.val-len').value,
                w: row.querySelector('.val-width').value,
                c: row.querySelector('.val-count').value,
                e: Array.from(row.querySelectorAll('.val-edge:checked')).map(cb => cb.value)
            })).filter(d => d.n && d.l && d.w);

            if(details.length === 0) {
                alert("–î–æ–±–∞–≤—å—Ç–µ –¥–µ—Ç–∞–ª–∏ –∑–∞–∫–∞–∑–∞!");
                return;
            }

            let text = `üìã **–ù–û–í–ê–Ø –ó–ê–Ø–í–ö–ê: TABRIZ GROUP**\n\n`;
            text += `üë§ **–ö–ª–∏–µ–Ω—Ç:** ${name}\n`;
            text += `üìû **–¢–µ–ª–µ—Ñ–æ–Ω:** [${phone}](tel:${phone})\n\n`;
            text += `ü™µ **–ú–∞—Ç–µ—Ä–∏–∞–ª:** ${mat}\n`;
            text += `üßµ **–ö—Ä–æ–º–∫–∞:** ${edgeName} (${edgeThick})\n`;
            text += `‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ\n\n`;

            details.forEach((d, i) => {
                text += `üîπ ${i+1}. **${d.n}**\n   üìè ${d.l}x${d.w} ‚Äî *${d.c} —à—Ç.*\n   üìç –ö—Ä–æ–º–∫–∞: ${d.e.length > 0 ? d.e.join(', ') : '–Ω–µ—Ç'}\n\n`;
            });

            try {
                const res = await fetch(`https://api.telegram.org/bot${TG_TOKEN}/sendMessage`, {
                    method: 'POST',
                    headers: {'Content-Type': 'application/json'},
                    body: JSON.stringify({ chat_id: TG_CHAT_ID, text: text, parse_mode: 'Markdown' })
                });

                if(res.ok) {
                    const again = confirm("‚úÖ –£–¥–∞—á–Ω–æ –æ—Ç–ø—Ä–∞–≤–ª–µ–Ω–æ! –£ –≤–∞—Å –µ—Å—Ç—å –µ—â–µ –æ–¥–∏–Ω –∑–∞–∫–∞–∑?");
                    if(again) {
                        // –û—á–∏—Å—Ç–∫–∞ —Ç–æ–ª—å–∫–æ –ø–∞—Ä–∞–º–µ—Ç—Ä–æ–≤ –∑–∞–∫–∞–∑–∞
                        document.getElementById('material').value = '';
                        document.getElementById('edgeName').value = '';
                        document.getElementById('tableBody').innerHTML = '';
                        for(let i=0; i<3; i++) addRow();
                    }
                }
            } catch (e) { alert("–û—à–∏–±–∫–∞ —Å–æ–µ–¥–∏–Ω–µ–Ω–∏—è!"); }
        }
    </script>
</body>
</html>
