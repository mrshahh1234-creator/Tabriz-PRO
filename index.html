<!DOCTYPE html>
<html lang="ru">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>TABRIZ GROUP | –ó–∞–∫–∞–∑ –¥–ª—è –º–∞—Å—Ç–µ—Ä–æ–≤</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0/css/all.min.css" rel="stylesheet">
    <style>
        @import url('https://fonts.googleapis.com/css2?family=Plus+Jakarta+Sans:wght@400;600;700;800&display=swap');
        body { font-family: 'Plus Jakarta Sans', sans-serif; background-color: #f1f5f9; }

        /* –§–æ–Ω–æ–≤–æ–µ –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏–µ */
        .bg-furniture-workshop {
            background-image: url('https://images.unsplash.com/photo-1602871212882-d27803a67500?q=80&w=2940&auto=format&fit=crop&ixlib=rb-4.0.3&ixid=M3wxMjA3fDB8MHxwaG90by1wYWdlfHx8fGVufDB8fHx8fA%3D%3D'); /* –ó–∞–º–µ–Ω–∏—Ç–µ –Ω–∞ –≤–∞—à–µ –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏–µ */
            background-size: cover;
            background-position: center;
            background-attachment: fixed; /* –§–∏–∫—Å–∏—Ä–æ–≤–∞–Ω–Ω—ã–π —Ñ–æ–Ω */
        }

        /* –ü—Ä–æ–∑—Ä–∞—á–Ω—ã–µ –∫–∞—Ä—Ç–æ—á–∫–∏ */
        .card-transparent {
            background-color: rgba(255, 255, 255, 0.15); /* –ß—É—Ç—å-—á—É—Ç—å –±–µ–ª–æ–≥–æ –¥–ª—è –≤–∏–¥–∏–º–æ—Å—Ç–∏ */
            backdrop-filter: blur(10px); /* –≠—Ñ—Ñ–µ–∫—Ç —Ä–∞–∑–º—ã—Ç–∏—è —Ñ–æ–Ω–∞ */
            border-radius: 1.25rem;
            border: 1px solid rgba(255, 255, 255, 0.2);
            box-shadow: 0 10px 30px -5px rgba(0, 0, 0, 0.3); /* –ë–æ–ª–µ–µ –∑–∞–º–µ—Ç–Ω–∞—è —Ç–µ–Ω—å */
            color: white; /* –¶–≤–µ—Ç —Ç–µ–∫—Å—Ç–∞ –≤ –∫–∞—Ä—Ç–æ—á–∫–∞—Ö */
        }
        .card-transparent .input-field {
            background-color: rgba(255, 255, 255, 0.1);
            border-color: rgba(255, 255, 255, 0.3);
            color: white;
        }
        .card-transparent .input-field::placeholder {
            color: rgba(255, 255, 255, 0.6);
        }
        .card-transparent .input-field:focus {
            border-color: #a78bfa; /* –§–∏–æ–ª–µ—Ç–æ–≤—ã–π —Ñ–æ–∫—É—Å */
            box-shadow: 0 0 0 3px rgba(167, 139, 250, 0.3);
        }
        .card-transparent label {
            color: rgba(255, 255, 255, 0.7);
        }
        .card-transparent h2, .card-transparent th {
            color: white;
        }
        .card-transparent .val-name, .card-transparent .val-len,
        .card-transparent .val-width, .card-transparent .val-count {
            color: white;
        }
        .card-transparent .val-edge:checked + span {
            background-color: #a78bfa; /* –§–∏–æ–ª–µ—Ç–æ–≤—ã–π —á–µ–∫–±–æ–∫—Å */
            border-color: #a78bfa;
        }
        .card-transparent .text-blue-600 { color: #a78bfa; } /* –ò–∑–º–µ–Ω—è–µ–º –æ—Å–Ω–æ–≤–Ω–æ–π —Å–∏–Ω–∏–π –Ω–∞ —Ñ–∏–æ–ª–µ—Ç–æ–≤—ã–π */
        .card-transparent .bg-blue-50 { background-color: rgba(167, 139, 250, 0.2); }
        .card-transparent .hover\:bg-blue-100:hover { background-color: rgba(167, 139, 250, 0.4); }

        .footer-text {
            position: fixed;
            bottom: 1rem;
            right: 1.5rem;
            color: rgba(255, 255, 255, 0.7);
            font-size: 0.875rem;
            font-weight: 600;
        }
    </style>
</head>
<body class="bg-furniture-workshop p-4 md:p-10 text-white">

    <div class="max-w-6xl mx-auto">
        <header class="mb-10 flex justify-between items-center bg-transparent">
            <div class="flex items-center gap-4">
                <img src="https://i.imgur.com/kO8zD5J.png" alt="TABRIZ GROUP Logo" class="h-16"> <h1 class="text-4xl font-extrabold tracking-tight">TABRIZ <span class="text-amber-300">GROUP</span></h1>
            </div>
            <div class="bg-amber-300 text-slate-900 px-5 py-2 rounded-2xl text-sm font-bold shadow-lg shadow-amber-200">
                –õ–∏—á–Ω—ã–π –∫–∞–±–∏–Ω–µ—Ç –º–∞—Å—Ç–µ—Ä–∞
            </div>
        </header>

        <div class="grid grid-cols-1 lg:grid-cols-3 gap-8">
            
            <div class="lg:col-span-1 space-y-6">
                <div class="card-transparent p-6">
                    <h2 class="text-xl font-bold mb-5 flex items-center gap-3">
                        <i class="fas fa-user-circle text-amber-300"></i> –î–∞–Ω–Ω—ã–µ –º–∞—Å—Ç–µ—Ä–∞
                    </h2>
                    <div class="space-y-4">
                        <div>
                            <label class="text-xs font-bold uppercase ml-1">–ò–º—è –∏ –§–∞–º–∏–ª–∏—è</label>
                            <input type="text" id="fullName" class="input-field mt-1" placeholder="–í–≤–µ–¥–∏—Ç–µ –∏–º—è –∏ —Ñ–∞–º–∏–ª–∏—é">
                        </div>
                        <div>
                            <label class="text-xs font-bold uppercase ml-1">–¢–µ–ª–µ—Ñ–æ–Ω</label>
                            <input type="tel" id="phone" class="input-field mt-1" placeholder="+998901234567">
                        </div>
                    </div>
                </div>

                <div class="card-transparent p-6">
                    <h2 class="text-xl font-bold mb-5 flex items-center gap-3">
                        <i class="fas fa-couch text-amber-300"></i> –•–∞—Ä–∞–∫—Ç–µ—Ä–∏—Å—Ç–∏–∫–∏ –∑–∞–∫–∞–∑–∞
                    </h2>
                    <div class="space-y-4">
                        <div>
                            <label class="text-xs font-bold uppercase">–ú–∞—Ç–µ—Ä–∏–∞–ª –æ—Å–Ω–æ–≤—ã</label>
                            <input type="text" id="material" class="input-field mt-1" placeholder="–õ–î–°–ü –î—É–± –í–æ—Ç–∞–Ω 18–º–º">
                        </div>
                        <div>
                            <label class="text-xs font-bold uppercase">–ù–∞–∏–º–µ–Ω–æ–≤–∞–Ω–∏–µ –∫—Ä–æ–º–∫–∏</label>
                            <input type="text" id="edgeName" class="input-field mt-1" placeholder="–ü–í–•">
                        </div>
                        <div>
                            <label class="text-xs font-bold uppercase">–¢–æ–ª—â–∏–Ω–∞ –∫—Ä–æ–º–∫–∏</label>
                            <select id="edgeThickness" class="input-field mt-1">
                                <option value="0.4–º–º">0.4 –º–º</option>
                                <option value="1.0–º–º">1.0 –º–º</option>
                                <option value="2.0–º–º">2.0 –º–º</option>
                            </select>
                        </div>
                    </div>
                </div>
            </div>

            <div class="lg:col-span-2">
                <div class="card-transparent p-8 min-h-full">
                    <div class="flex justify-between items-center mb-8">
                        <h2 class="text-xl font-bold flex items-center gap-3">
                            <i class="fas fa-th-list text-amber-300"></i> –°–ø–∏—Å–æ–∫ –¥–µ—Ç–∞–ª–µ–π
                        </h2>
                        <button onclick="addRow()" class="bg-amber-500 text-white font-bold px-4 py-2 rounded-xl hover:bg-amber-600 transition flex items-center gap-2">
                            <i class="fas fa-plus text-xs"></i> –î–æ–±–∞–≤–∏—Ç—å –¥–µ—Ç–∞–ª—å
                        </button>
                    </div>

                    <div class="overflow-x-auto">
                        <table class="w-full">
                            <thead>
                                <tr class="text-left text-[11px] font-black uppercase tracking-widest border-b border-white/30 pb-4">
                                    <th class="pb-4 px-2">–ù–∞–∏–º–µ–Ω–æ–≤–∞–Ω–∏–µ</th>
                                    <th class="pb-4 px-2 w-24">–î–ª–∏–Ω–∞</th>
                                    <th class="pb-4 px-2 w-24">–®–∏—Ä–∏–Ω–∞</th>
                                    <th class="pb-4 px-2 w-16 text-center">–ö–æ–ª-–≤–æ</th>
                                    <th class="pb-4 px-2 text-center">–ö—Ä–æ–º–∫–∞</th>
                                    <th class="pb-4 w-10"></th>
                                </tr>
                            </thead>
                            <tbody id="tableBody" class="divide-y divide-white/10"></tbody>
                        </table>
                    </div>

                    <div class="mt-12 flex flex-col md:flex-row justify-end items-center gap-4">
                        <button onclick="sendToBot()" class="w-full md:w-auto bg-amber-500 text-slate-900 px-12 py-5 rounded-2xl font-black text-lg hover:bg-amber-600 transition shadow-2xl shadow-amber-300 flex items-center justify-center gap-4">
                            <span>–û–¢–ü–†–ê–í–ò–¢–¨ –ó–ê–ö–ê–ó</span>
                            <i class="fas fa-paper-plane"></i>
                        </button>
                    </div>
                </div>
            </div>
        </div>
    </div>

    <div class="footer-text">
        MUSTAFAYEV ACADEMY
    </div>

    <script>
        const BOT_TOKEN = '7927717291:AAG4h_LbZoY-1s2y0_zzNoCFudrU7pPDNas';
        const CHAT_ID = '1015769230';
        const LOGO_URL = 'https://i.imgur.com/kO8zD5J.png'; // –í–∞—à –ª–æ–≥–æ—Ç–∏–ø –¥–ª—è Telegram

        document.addEventListener('DOMContentLoaded', () => {
            document.getElementById('fullName').value = localStorage.getItem('m_name') || '';
            document.getElementById('phone').value = localStorage.getItem('m_phone') || '';
            for(let i=0; i<3; i++) addRow(); // –î–æ–±–∞–≤–ª—è–µ–º 3 –ø—É—Å—Ç—ã–µ —Å—Ç—Ä–æ–∫–∏ –ø–æ —É–º–æ–ª—á–∞–Ω–∏—é
        });

        function addRow() {
            const tr = document.createElement('tr');
            tr.className = "group hover:bg-white/10 transition";
            tr.innerHTML = `
                <td class="py-4 px-2"><input type="text" class="w-full bg-transparent outline-none font-medium val-name" placeholder="–ù–∞–ø—Ä: –§–∞—Å–∞–¥"></td>
                <td class="py-4 px-2"><input type="number" class="w-full bg-transparent outline-none font-bold val-len" placeholder="0"></td>
                <td class="py-4 px-2"><input type="number" class="w-full bg-transparent outline-none font-bold val-width" placeholder="0"></td>
                <td class="py-4 px-2"><input type="number" class="w-full bg-transparent outline-none font-bold text-center val-count" value="1"></td>
                <td class="py-4 px-2">
                    <div class="flex gap-1 justify-center">
                        ${['L1', 'L2', 'W1', 'W2'].map(e => `
                            <label class="cursor-pointer">
                                <input type="checkbox" value="${e}" class="hidden peer val-edge">
                                <span class="w-8 h-8 flex items-center justify-center rounded-lg border border-white/30 text-[10px] font-bold text-white/70 peer-checked:bg-amber-500 peer-checked:text-slate-900 peer-checked:border-amber-500 transition-all">${e}</span>
                            </label>
                        `).join('')}
                    </div>
                </td>
                <td class="py-4 text-right">
                    <button onclick="this.parentElement.parentElement.remove()" class="text-white/30 hover:text-red-400 transition"><i class="fas fa-trash-alt"></i></button>
                </td>
            `;
            document.getElementById('tableBody').appendChild(tr);
        }

        async function sendToBot() {
            const name = document.getElementById('fullName').value.trim();
            const phone = document.getElementById('phone').value.trim();
            const mat = document.getElementById('material').value.trim();
            const eName = document.getElementById('edgeName').value.trim();
            const eThick = document.getElementById('edgeThickness').value.trim();

            if (!name || !phone || !mat) {
                alert('–ü–æ–∂–∞–ª—É–π—Å—Ç–∞, –∑–∞–ø–æ–ª–Ω–∏—Ç–µ –ò–º—è, –¢–µ–ª–µ—Ñ–æ–Ω –∏ –ú–∞—Ç–µ—Ä–∏–∞–ª –æ—Å–Ω–æ–≤—ã.');
                return;
            }

            // –°–æ—Ö—Ä–∞–Ω—è–µ–º –¥–∞–Ω–Ω—ã–µ –º–∞—Å—Ç–µ—Ä–∞
            localStorage.setItem('m_name', name);
            localStorage.setItem('m_phone', phone);

            const details = Array.from(document.querySelectorAll('#tableBody tr')).map(row => ({
                n: row.querySelector('.val-name').value.trim(),
                l: row.querySelector('.val-len').value.trim(),
                w: row.querySelector('.val-width').value.trim(),
                c: row.querySelector('.val-count').value.trim(),
                e: Array.from(row.querySelectorAll('.val-edge:checked')).map(cb => cb.value)
            })).filter(d => d.n && d.l && d.w && d.c); // –§–∏–ª—å—Ç—Ä—É–µ–º –ø—É—Å—Ç—ã–µ —Å—Ç—Ä–æ–∫–∏

            if (details.length === 0) {
                alert('–î–æ–±–∞–≤—å—Ç–µ —Ö–æ—Ç—è –±—ã –æ–¥–Ω—É –∑–∞–ø–æ–ª–Ω–µ–Ω–Ω—É—é –¥–µ—Ç–∞–ª—å –≤ —Å–ø–∏—Å–æ–∫.');
                return;
            }

            let text = `‚ú® *–ù–û–í–´–ô –ó–ê–ö–ê–ó –û–¢ TABRIZ GROUP* ‚ú®\n\n`;
            text += `üë§ *–ú–∞—Å—Ç–µ—Ä:* ${name}\n`;
            text += `üìû *–¢–µ–ª–µ—Ñ–æ–Ω:* [${phone}](tel:${phone})\n`;
            text += `\n*–•–∞—Ä–∞–∫—Ç–µ—Ä–∏—Å—Ç–∏–∫–∏ –∑–∞–∫–∞–∑–∞:*\n`;
            text += `ü™µ *–ú–∞—Ç–µ—Ä–∏–∞–ª –æ—Å–Ω–æ–≤—ã:* ${mat}\n`;
            text += `üßµ *–ö—Ä–æ–º–∫–∞:* ${eName} (${eThick})\n`;
            text += `‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ\n\n`;

            text += `*–î–µ—Ç–∞–ª–∏ –¥–ª—è —Ä–∞—Å–ø–∏–ª–∞:*\n`;
            details.forEach((d, i) => {
                text += `\`${i + 1}. ${d.n}\`\n`;
                text += `   üìê ${d.l} x ${d.w} –º–º ‚Äî *${d.c} —à—Ç.*\n`;
                text += `   üìç –ö—Ä–æ–º–∫–∞: ${d.e.length > 0 ? d.e.join(', ') : '–Ω–µ—Ç'}\n\n`;
            });

            // –û—Ç–ø—Ä–∞–≤–∫–∞ –≤ Telegram
            try {
                const response = await fetch(`https://api.telegram.org/bot${BOT_TOKEN}/sendMessage`, {
                    method: 'POST',
                    headers: { 'Content-Type': 'application/json' },
                    body: JSON.stringify({ chat_id: CHAT_ID, text: text, parse_mode: 'Markdown' })
                });

                if (response.ok) {
                    alert('‚úÖ –ó–∞–∫–∞–∑ —É—Å–ø–µ—à–Ω–æ –æ—Ç–ø—Ä–∞–≤–ª–µ–Ω! –ï—Å—Ç—å –ª–∏ —É –≤–∞—Å –µ—â–µ –∑–∞–∫–∞–∑—ã? –ï—Å–ª–∏ –¥–∞, –∑–∞–ø–æ–ª–Ω–∏—Ç–µ –Ω–æ–≤—É—é —Ñ–æ—Ä–º—É.');
                    // –û—á–∏—â–∞–µ–º —Ñ–æ—Ä–º—É –¥–ª—è –Ω–æ–≤–æ–≥–æ –∑–∞–∫–∞–∑–∞, —Å–æ—Ö—Ä–∞–Ω—è—è –¥–∞–Ω–Ω—ã–µ –º–∞—Å—Ç–µ—Ä–∞
                    document.getElementById('material').value = '';
                    document.getElementById('edgeName').value = '';
                    document.getElementById('edgeThickness').value = '0.4–º–º';
                    document.getElementById('tableBody').innerHTML = ''; // –û—á–∏—â–∞–µ–º –¥–µ—Ç–∞–ª–∏
                    for(let i=0; i<3; i++) addRow(); // –î–æ–±–∞–≤–ª—è–µ–º 3 –ø—É—Å—Ç—ã–µ —Å—Ç—Ä–æ–∫–∏
                } else {
                    const errorData = await response.json();
                    alert(`‚ùå –û—à–∏–±–∫–∞ –ø—Ä–∏ –æ—Ç–ø—Ä–∞–≤–∫–µ –∑–∞–∫–∞–∑–∞ –≤ Telegram: ${errorData.description || '–ù–µ–∏–∑–≤–µ—Å—Ç–Ω–∞—è –æ—à–∏–±–∫–∞'}`);
                }
            } catch (err) {
                alert('‚ùå –û—à–∏–±–∫–∞ —Å–µ—Ç–∏! –ü—Ä–æ–≤–µ—Ä—å—Ç–µ –ø–æ–¥–∫–ª—é—á–µ–Ω–∏–µ –∫ –∏–Ω—Ç–µ—Ä–Ω–µ—Ç—É.');
            }
        }
    </script>
</body>
</html>
